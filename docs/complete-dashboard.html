<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete U.S. Childcare Cost Analysis</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/childcare_costs_map.png">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.1.min.js"></script>
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, #1a5276, #3498db);
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
            border-bottom: 5px solid #f1c40f;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            border-radius: 15px;
        }
        
        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('images/childcare_costs_map.png') center/cover;
            opacity: 0.1;
            z-index: 0;
        }
        
        .dashboard-header .content {
            position: relative;
            z-index: 1;
        }
        
        .card {
            background-color: white;
            padding: 0;
            border-radius: 15px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .card-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 15px 20px;
            border-bottom: none;
        }
        
        .card-header.bg-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        
        .card-header.bg-warning {
            background: linear-gradient(135deg, #f39c12, #f1c40f);
        }
        
        .card-header.bg-info {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .viz-container {
            min-height: 400px;
            padding: 20px;
        }
        
        .status-message {
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .info-box {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #e0e0e0;
        }
        
        .info-box h6 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .info-box h6 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: none;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            border: none;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            border: none;
        }
        
        .form-select {
            border-radius: 10px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            margin-bottom: 15px;
        }
        
        .form-select:focus {
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
            border-color: #3498db;
        }
        
        .static-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin: 15px 0;
        }
        
        .image-caption {
            font-size: 0.95rem;
            color: #7f8c8d;
            text-align: center;
            margin-top: 10px;
            font-style: italic;
        }
        
        .nav-tabs {
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .nav-tabs .nav-link {
            color: #7f8c8d;
            border: none;
            padding: 10px 20px;
            margin-right: 5px;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
        }
        
        .nav-tabs .nav-link.active {
            color: #3498db;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-bottom: 3px solid #3498db;
        }
        
        .tab-content {
            padding: 20px;
            background: white;
            border-radius: 0 0 10px 10px;
        }
        
        #pageLoadingOverlay {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 247, 250, 0.95));
            backdrop-filter: blur(5px);
        }
        
        .loading-spinner .spinner-border {
            color: #3498db;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .card {
                margin-bottom: 20px;
            }
            
            .dashboard-header {
                padding: 30px 0;
            }
            
            .viz-container {
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Page Loading Overlay -->
    <div id="pageLoadingOverlay">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Loading dashboard...</p>
    </div>
    
    <!-- Script Load Status -->
    <div id="scriptLoadStatus">Script status: Loading...</div>
    
    <div class="container">
        <div class="dashboard-header">
            <div class="content text-center">
                <h1 class="display-4 mb-3">U.S. Childcare Cost Analysis</h1>
                <p class="lead mb-0">Interactive Dashboard for Exploring Childcare Costs Across the United States</p>
            </div>
        </div>
        
        <div class="row">
            <!-- Navigation Tabs -->
            <div class="col-12 mb-4">
                <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="visualizations-tab" data-bs-toggle="tab" data-bs-target="#visualizations" type="button" role="tab">
                            <i class="fas fa-chart-bar"></i> Visualizations
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="case-study-tab" data-bs-toggle="tab" data-bs-target="#case-study" type="button" role="tab">
                            <i class="fas fa-file-alt"></i> Case Study
                        </button>
                    </li>
                </ul>
                
                <div class="tab-content" id="dashboardTabsContent">
                    <!-- Visualizations Tab -->
                    <div class="tab-pane fade show active" id="visualizations" role="tabpanel">
                        <div class="row">
                            <!-- Map Visualization -->
                            <div class="col-12 mb-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">U.S. Childcare Costs by State</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="costMap" class="viz-container"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Cost Comparison Chart -->
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-header bg-success">
                                        <h5 class="mb-0">Cost Comparison by Region</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="costComparison" class="viz-container"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Trend Analysis -->
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-header bg-info">
                                        <h5 class="mb-0">Cost Trends Over Time</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="trendAnalysis" class="viz-container"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Case Study Tab -->
                    <div class="tab-pane fade" id="case-study" role="tabpanel">
                        <div class="case-study-content">
                            <div class="case-study-header mb-4">
                                <h2 class="text-center mb-3">U.S. Childcare Cost Analysis: A Comprehensive Case Study</h2>
                                <p class="text-center text-muted">By Komal Shahid</p>
                                <hr class="my-4">
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>Executive Summary</h3>
                                <p>This case study examines the rising costs of childcare across the United States, analyzing regional variations, economic impacts, and potential solutions. Through detailed data analysis and visualization, we explore how childcare costs affect families and the broader economy.</p>
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>Key Findings</h3>
                                <div class="info-box">
                                    <ul>
                                        <li>Average childcare costs vary significantly by state and region</li>
                                        <li>Urban areas consistently show higher childcare costs</li>
                                        <li>Childcare expenses represent a significant portion of household income</li>
                                        <li>Quality of care correlates with cost in most regions</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>Methodology</h3>
                                <p>Our analysis combines data from multiple sources, including:</p>
                                <div class="info-box">
                                    <ul>
                                        <li>U.S. Census Bureau demographic data</li>
                                        <li>State-level childcare cost surveys</li>
                                        <li>Economic indicators from the Bureau of Labor Statistics</li>
                                        <li>Quality rating systems from state agencies</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>Data Visualization</h3>
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="card">
                                            <div class="card-body">
                                                <img src="images/childcare_costs_map.png" alt="U.S. Childcare Costs Map" class="img-fluid mb-3">
                                                <p class="image-caption">Geographic distribution of childcare costs across the United States</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="card">
                                            <div class="card-body">
                                                <img src="images/cost_comparison.png" alt="Regional Cost Comparison" class="img-fluid mb-3">
                                                <p class="image-caption">Comparative analysis of childcare costs by region</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>Recommendations</h3>
                                <div class="info-box">
                                    <ol>
                                        <li>Implement state-level subsidies for low-income families</li>
                                        <li>Develop tax incentives for employer-provided childcare</li>
                                        <li>Increase funding for public childcare programs</li>
                                        <li>Create standards for quality-cost ratio measurements</li>
                                    </ol>
                                </div>
                            </div>
                            
                            <div class="case-study-section mb-4">
                                <h3>References</h3>
                                <div class="info-box">
                                    <ul>
                                        <li>U.S. Census Bureau (2023). Childcare Arrangements Survey</li>
                                        <li>Bureau of Labor Statistics (2023). Employment Characteristics of Families</li>
                                        <li>Child Care Aware of America (2023). The US and the High Price of Child Care</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="text-center mt-4">
                                <a href="https://github.com/komalshahid786/DSC640/tree/main/final-project" class="btn btn-primary" target="_blank">
                                    <i class="fab fa-github"></i> View on GitHub
                                </a>
                                <button class="btn btn-success" onclick="window.print()">
                                    <i class="fas fa-print"></i> Save as PDF
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-3">
            <div class="col-12 text-center">
                <a href="index.html" class="btn btn-secondary me-2">Home</a>
                <a href="new-dashboard.html" class="btn btn-primary me-2">Interactive Dashboard</a>
                <a href="js-test.html" class="btn btn-info me-2">JS Test</a>
                <a href="image-test.html" class="btn btn-warning me-2">Image Test</a>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script loading status tracking -->
    <script>
        // Track script loading
        document.getElementById('scriptLoadStatus').textContent = 'Script status: Loading main script...';
        
        // Set environment info
        document.getElementById('environment-info').textContent = 
            window.location.hostname + ' | ' + 
            navigator.userAgent.substring(0, 80) + '...';
        
        function handleScriptError() {
            document.getElementById('scriptLoadStatus').textContent = 'Script status: Error loading script!';
            document.getElementById('scriptLoadStatus').style.backgroundColor = '#f8d7da';
            document.getElementById('scriptLoadStatus').style.color = '#721c24';
            
            // Hide loading overlay with error message
            const overlay = document.getElementById('pageLoadingOverlay');
            if (overlay) {
                const spinnerEl = overlay.querySelector('.spinner-border');
                if (spinnerEl) spinnerEl.style.display = 'none';
                
                const messageEl = overlay.querySelector('p');
                if (messageEl) {
                    messageEl.textContent = 'Error loading dashboard. Please check console for details.';
                    messageEl.style.color = '#721c24';
                }
                
                // Add a retry button
                const retryBtn = document.createElement('button');
                retryBtn.className = 'btn btn-danger mt-3';
                retryBtn.textContent = 'Retry Loading';
                retryBtn.onclick = function() {
                    window.location.reload();
                };
                overlay.appendChild(retryBtn);
                
                // Add a test button
                const testBtn = document.createElement('button');
                testBtn.className = 'btn btn-warning mt-2';
                testBtn.textContent = 'Go to Test Page';
                testBtn.onclick = function() {
                    window.location.href = 'js-test.html';
                };
                overlay.appendChild(testBtn);
            }
            
            console.error('Failed to load dashboard script!');
        }
    </script>
    
    <!-- Custom Dashboard JavaScript -->
    <script src="js/new-dashboard.js" onerror="handleScriptError()"></script>
    
    <script>
        // Hide loading overlay when everything is loaded
        window.addEventListener('load', function() {
            setTimeout(function() {
                const overlay = document.getElementById('pageLoadingOverlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
                document.getElementById('scriptLoadStatus').textContent = 'Script status: Loaded successfully';
                document.getElementById('scriptLoadStatus').style.backgroundColor = '#d4edda';
                document.getElementById('scriptLoadStatus').style.color = '#155724';
                
                // Hide status after 5 seconds
                setTimeout(function() {
                    document.getElementById('scriptLoadStatus').style.display = 'none';
                }, 5000);
            }, 1000); // Small delay for better UX
        });
        
        // Add image error handling
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.static-image');
            images.forEach(img => {
                img.addEventListener('error', function() {
                    console.error('Failed to load image:', img.src);
                });
            });
        });
    </script>
</body>
</html> 