<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete U.S. Childcare Cost Analysis</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/childcare_costs_map.png">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.1.min.js"></script>
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, #1a5276, #3498db);
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
            border-bottom: 5px solid #f1c40f;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            border-radius: 15px;
        }
        
        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('images/childcare_costs_map.png') center/cover;
            opacity: 0.1;
            z-index: 0;
        }
        
        .dashboard-header .content {
            position: relative;
            z-index: 1;
        }
        
        .card {
            background-color: white;
            padding: 0;
            border-radius: 15px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .card-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 15px 20px;
            border-bottom: none;
        }
        
        .card-header.bg-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        
        .card-header.bg-warning {
            background: linear-gradient(135deg, #f39c12, #f1c40f);
        }
        
        .card-header.bg-info {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .viz-container {
            min-height: 400px;
            padding: 20px;
        }
        
        .status-message {
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .info-box {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #e0e0e0;
        }
        
        .info-box h6 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .info-box h6 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: none;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            border: none;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            border: none;
        }
        
        .form-select {
            border-radius: 10px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            margin-bottom: 15px;
        }
        
        .form-select:focus {
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
            border-color: #3498db;
        }
        
        .static-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin: 15px 0;
        }
        
        .image-caption {
            font-size: 0.95rem;
            color: #7f8c8d;
            text-align: center;
            margin-top: 10px;
            font-style: italic;
        }
        
        .nav-tabs {
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .nav-tabs .nav-link {
            color: #7f8c8d;
            border: none;
            padding: 10px 20px;
            margin-right: 5px;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
        }
        
        .nav-tabs .nav-link.active {
            color: #3498db;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-bottom: 3px solid #3498db;
        }
        
        .tab-content {
            padding: 20px;
            background: white;
            border-radius: 0 0 10px 10px;
        }
        
        #pageLoadingOverlay {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 247, 250, 0.95));
            backdrop-filter: blur(5px);
        }
        
        .loading-spinner .spinner-border {
            color: #3498db;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .card {
                margin-bottom: 20px;
            }
            
            .dashboard-header {
                padding: 30px 0;
            }
            
            .viz-container {
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Page Loading Overlay -->
    <div id="pageLoadingOverlay">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Loading dashboard...</p>
    </div>
    
    <!-- Script Load Status -->
    <div id="scriptLoadStatus">Script status: Loading...</div>
    
    <div class="container">
        <div class="dashboard-header">
            <div class="content text-center">
                <h1 class="display-4 mb-3">U.S. Childcare Cost Analysis</h1>
                <p class="lead mb-0">Interactive Dashboard for Exploring Childcare Costs Across the United States</p>
                <img src="images/childcare_costs_map.png" alt="Childcare Analysis Logo" class="img-fluid mt-4" style="max-width: 200px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Dashboard Controls</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="dataType" class="form-label">Data Type</label>
                            <select class="form-select" id="dataType">
                                <option value="infant">Infant Care Costs</option>
                                <option value="toddler">Toddler Care Costs</option>
                                <option value="preschool">Preschool Care Costs</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="vizType" class="form-label">Visualization Type</label>
                            <select class="form-select" id="vizType">
                                <option value="map">US Map</option>
                                <option value="bar">Bar Chart</option>
                                <option value="comparison">Cost Comparison</option>
                                <option value="scatter">Cost vs. Burden</option>
                            </select>
                        </div>
                        <button id="updateViz" class="btn btn-primary w-100">Update Visualization</button>
                        <button id="exportData" class="btn btn-secondary w-100 mt-2">Export Data (CSV)</button>
                        
                        <div class="status-message mt-3" id="statusMessage"></div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">Key Insights</h5>
                    </div>
                    <div class="card-body">
                        <div class="info-box">
                            <h6><i class="fas fa-info-circle"></i> Average Monthly Cost</h6>
                            <p id="avgCost">Loading...</p>
                        </div>
                        <div class="info-box">
                            <h6><i class="fas fa-chart-line"></i> Cost Range</h6>
                            <p id="costRange">Loading...</p>
                        </div>
                        <div class="info-box">
                            <h6><i class="fas fa-map-marker-alt"></i> Highest Cost State</h6>
                            <p id="highestState">Loading...</p>
                        </div>
                        <div class="info-box">
                            <h6><i class="fas fa-map-marker-alt"></i> Lowest Cost State</h6>
                            <p id="lowestState">Loading...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0" id="vizTitle">U.S. Childcare Costs by State</h5>
                    </div>
                    <div class="card-body">
                        <div class="viz-container" id="mainViz">
                            <div class="loading-spinner">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">Static Visualizations</h5>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="staticVisualizationTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="map-tab" data-bs-toggle="tab" data-bs-target="#map-content" type="button" role="tab">Map</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="state-costs-tab" data-bs-toggle="tab" data-bs-target="#state-costs-content" type="button" role="tab">State Costs</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="violin-tab" data-bs-toggle="tab" data-bs-target="#violin-content" type="button" role="tab">Violin Chart</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="trends-tab" data-bs-toggle="tab" data-bs-target="#trends-content" type="button" role="tab">Trends</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="case-study-tab" data-bs-toggle="tab" data-bs-target="#case-study-content" type="button" role="tab">Case Study</button>
                            </li>
                        </ul>
                        
                        <div class="tab-content" id="staticVisualizationTabContent">
                            <div class="tab-pane fade show active" id="map-content" role="tabpanel">
                                <div class="text-center">
                                    <img src="images/childcare_costs_map.png" alt="Childcare Costs Map" class="static-image">
                                    <p class="image-caption">Geographic distribution of childcare costs across the United States</p>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="state-costs-content" role="tabpanel">
                                <div class="text-center">
                                    <img src="images/state_costs.png" alt="State Costs" class="static-image">
                                    <p class="image-caption">Comparison of childcare costs by state</p>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="violin-content" role="tabpanel">
                                <div class="text-center">
                                    <img src="images/cost_distribution.png" alt="Cost Distribution (Violin Chart)" class="static-image">
                                    <p class="image-caption">Distribution of childcare costs (Violin Chart)</p>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="trends-content" role="tabpanel">
                                <div class="text-center">
                                    <img src="images/cost_trends.png" alt="Cost Trends" class="static-image">
                                    <p class="image-caption">Childcare cost trends over time</p>
                                    
                                    <img src="images/time_series.png" alt="Time Series" class="static-image mt-4">
                                    <p class="image-caption">Time series analysis of childcare costs</p>
                                </div>
                            </div>
                            
                            <div class="tab-pane fade" id="case-study-content" role="tabpanel">
                                <div class="case-study-content">
                                    <h2 class="text-center mb-4">U.S. Childcare Cost Analysis: A Comprehensive Case Study</h2>
                                    <p class="text-center text-muted mb-4">By Komal Shahid</p>
                                    
                                    <div class="case-study-section mb-4">
                                        <h3>Executive Summary</h3>
                                        <p>This case study examines the rising costs of childcare across the United States, analyzing regional variations, economic impacts, and potential solutions. Through detailed data analysis and visualization, we explore how childcare costs affect families and the broader economy.</p>
                                    </div>
                                    
                                    <div class="case-study-section mb-4">
                                        <h3>Key Findings</h3>
                                        <div class="info-box">
                                            <ul>
                                                <li>Average childcare costs vary significantly by state and region</li>
                                                <li>Urban areas consistently show higher childcare costs</li>
                                                <li>Childcare expenses represent a significant portion of household income</li>
                                                <li>Quality of care correlates with cost in most regions</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="case-study-section mb-4">
                                        <h3>Methodology</h3>
                                        <p>Our analysis combines data from multiple sources:</p>
                                        <div class="info-box">
                                            <ul>
                                                <li>U.S. Census Bureau demographic data</li>
                                                <li>State-level childcare cost surveys</li>
                                                <li>Economic indicators from the Bureau of Labor Statistics</li>
                                                <li>Quality rating systems from state agencies</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="text-center mt-4">
                                        <a href="https://github.com/komalshahid786/DSC640/tree/main/final-project" class="btn btn-primary" target="_blank">
                                            <i class="fab fa-github"></i> View on GitHub
                                        </a>
                                        <button class="btn btn-success" onclick="window.print()">
                                            <i class="fas fa-print"></i> Save as PDF
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-3">
            <div class="col-12 text-center">
                <a href="index.html" class="btn btn-secondary me-2">Home</a>
                <a href="new-dashboard.html" class="btn btn-primary me-2">Interactive Dashboard</a>
                <a href="js-test.html" class="btn btn-info me-2">JS Test</a>
                <a href="image-test.html" class="btn btn-warning me-2">Image Test</a>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script loading status tracking -->
    <script>
        // Track script loading
        document.getElementById('scriptLoadStatus').textContent = 'Script status: Loading main script...';
        
        // Set environment info
        document.getElementById('environment-info').textContent = 
            window.location.hostname + ' | ' + 
            navigator.userAgent.substring(0, 80) + '...';
        
        function handleScriptError() {
            document.getElementById('scriptLoadStatus').textContent = 'Script status: Error loading script!';
            document.getElementById('scriptLoadStatus').style.backgroundColor = '#f8d7da';
            document.getElementById('scriptLoadStatus').style.color = '#721c24';
            
            // Hide loading overlay with error message
            const overlay = document.getElementById('pageLoadingOverlay');
            if (overlay) {
                const spinnerEl = overlay.querySelector('.spinner-border');
                if (spinnerEl) spinnerEl.style.display = 'none';
                
                const messageEl = overlay.querySelector('p');
                if (messageEl) {
                    messageEl.textContent = 'Error loading dashboard. Please check console for details.';
                    messageEl.style.color = '#721c24';
                }
                
                // Add a retry button
                const retryBtn = document.createElement('button');
                retryBtn.className = 'btn btn-danger mt-3';
                retryBtn.textContent = 'Retry Loading';
                retryBtn.onclick = function() {
                    window.location.reload();
                };
                overlay.appendChild(retryBtn);
                
                // Add a test button
                const testBtn = document.createElement('button');
                testBtn.className = 'btn btn-warning mt-2';
                testBtn.textContent = 'Go to Test Page';
                testBtn.onclick = function() {
                    window.location.href = 'js-test.html';
                };
                overlay.appendChild(testBtn);
            }
            
            console.error('Failed to load dashboard script!');
        }
    </script>
    
    <!-- Custom Dashboard JavaScript -->
    <script src="js/dashboard.js" onerror="handleScriptError()"></script>
    
    <script>
        // Hide loading overlay when everything is loaded
        window.addEventListener('load', function() {
            setTimeout(function() {
                const overlay = document.getElementById('pageLoadingOverlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
                document.getElementById('scriptLoadStatus').textContent = 'Script status: Loaded successfully';
                document.getElementById('scriptLoadStatus').style.backgroundColor = '#d4edda';
                document.getElementById('scriptLoadStatus').style.color = '#155724';
                
                // Hide status after 5 seconds
                setTimeout(function() {
                    document.getElementById('scriptLoadStatus').style.display = 'none';
                }, 5000);
            }, 1000); // Small delay for better UX
        });
        
        // Add image error handling
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.static-image');
            images.forEach(img => {
                img.addEventListener('error', function() {
                    console.error('Failed to load image:', img.src);
                });
            });
        });
    </script>
</body>
</html> 