<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U.S. Childcare Cost Analysis Project</title>
    
    <!-- Load required libraries -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f7fa;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem;
            text-align: center;
            color: white;
            margin-bottom: 2rem;
            border-bottom: 4px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            margin: 0;
            padding: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .visualization-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .visualization {
            width: 100%;
            height: 500px;
            margin: 20px 0;
        }

        .chart-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 1rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .chart-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .nav-button {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .analysis-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .analysis-box h3 {
            color: #2c3e50;
            margin-top: 0;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 0.5rem;
        }

        .analysis-box ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .analysis-box li {
            margin: 0.5rem 0;
            color: #4a5568;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>U.S. Childcare Cost Analysis Project</h1>
    </div>

    <div class="container">
        <div class="nav-buttons">
            <button class="nav-button" onclick="window.location.href='index.html'">Home</button>
            <button class="nav-button" onclick="window.location.href='new-dashboard.html'">Interactive Dashboard</button>
        </div>

        <!-- Geographic Distribution -->
        <div class="visualization-section">
            <h2 class="chart-title">Geographic Distribution of Childcare Costs</h2>
            <p class="chart-description">Analysis of childcare costs across different states in 2018</p>
            <div id="geoChoropleth" class="visualization"></div>
            <div class="analysis-box">
                <h3>Key Findings</h3>
                <ul>
                    <li>Highest costs concentrated in Northeast and West Coast</li>
                    <li>Significant regional variations in childcare expenses</li>
                    <li>Urban areas show consistently higher costs</li>
                </ul>
            </div>
        </div>

        <!-- Cost Distribution -->
        <div class="visualization-section">
            <h2 class="chart-title">Regional Cost Distribution</h2>
            <p class="chart-description">Distribution of childcare costs across different regions</p>
            <div id="costDistribution" class="visualization"></div>
            <div class="analysis-box">
                <h3>Distribution Analysis</h3>
                <ul>
                    <li>Northeast shows highest median costs</li>
                    <li>Significant variation within regions</li>
                    <li>Cost patterns correlate with local economic factors</li>
                </ul>
            </div>
        </div>

        <!-- Time Series Analysis -->
        <div class="visualization-section">
            <h2 class="chart-title">Cost Trends Over Time</h2>
            <p class="chart-description">Analysis of childcare cost trends from 2008 to 2018</p>
            <div id="timeSeriesPlot" class="visualization"></div>
            <div class="analysis-box">
                <h3>Trend Analysis</h3>
                <ul>
                    <li>Consistent upward trend in costs</li>
                    <li>Rate of increase varies by region</li>
                    <li>Post-recession acceleration in cost growth</li>
                </ul>
            </div>
        </div>

        <!-- State Cost Analysis -->
        <div class="visualization-section">
            <h2 class="chart-title">State Cost Analysis</h2>
            <p class="chart-description">Detailed analysis of costs by state</p>
            <div id="spiralPlot" class="visualization"></div>
            <div class="analysis-box">
                <h3>State-Level Insights</h3>
                <ul>
                    <li>Massachusetts leads with highest costs</li>
                    <li>Coastal states show elevated cost levels</li>
                    <li>Clear regional cost patterns emerge</li>
                </ul>
            </div>
        </div>

        <!-- Multi-dimensional Analysis -->
        <div class="visualization-section">
            <h2 class="chart-title">Cost Impact Analysis</h2>
            <p class="chart-description">Relationship between costs, income, and workforce participation</p>
            <div id="multidimensionalAnalysis" class="visualization"></div>
            <div class="analysis-box">
                <h3>Impact Assessment</h3>
                <ul>
                    <li>Strong correlation between costs and income levels</li>
                    <li>Workforce participation affected by cost burden</li>
                    <li>Regional economic disparities evident</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Load all visualizations when the document is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all charts
            createHeatMap(document.getElementById('geoChoropleth'));
            createViolinChart(document.getElementById('costDistribution'));
            createTimeSeries(document.getElementById('timeSeriesPlot'));
            createSpiralPlot(document.getElementById('spiralPlot'));
            create3DAnalysis(document.getElementById('multidimensionalAnalysis'));

            // Add window resize handler
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(function() {
                    // Reinitialize all charts on resize
                    createHeatMap(document.getElementById('geoChoropleth'));
                    createViolinChart(document.getElementById('costDistribution'));
                    createTimeSeries(document.getElementById('timeSeriesPlot'));
                    createSpiralPlot(document.getElementById('spiralPlot'));
                    create3DAnalysis(document.getElementById('multidimensionalAnalysis'));
                }, 250);
            });
        });

        // Chart creation functions
        function createHeatMap(container) {
            const stateData = {
                states: ['AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 
                        'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 
                        'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 
                        'VA', 'WA', 'WV', 'WI', 'WY', 'DC'],
                costs: [13521, 18500, 15632, 12965, 18657, 17452, 17895, 12243, 15289, 15112, 18200, 11754, 16842, 10864, 11042,
                       11131, 13342, 13198, 12632, 12132, 20415, 14102, 16087, 12854, 10953, 11665, 11220, 11932, 12432, 17682,
                       11487, 18425, 14903, 11398, 14321, 13087, 15847, 14562, 12321, 13654, 11309, 13856, 15427, 11843, 12521,
                       14778, 19362, 12743, 13987, 11576, 21500]
            };

            const data = [{
                type: 'choropleth',
                locationmode: 'USA-states',
                locations: stateData.states,
                z: stateData.costs,
                text: stateData.states.map((state, i) => 
                    `${state}<br>Annual Cost: $${stateData.costs[i].toLocaleString()}`
                ),
                colorscale: 'Viridis',
                colorbar: {
                    title: 'Annual Cost ($)',
                    thickness: 20
                },
                hoverinfo: 'text'
            }];

            const layout = {
                title: 'Geographic Distribution of Childcare Costs',
                geo: {
                    scope: 'usa',
                    showlakes: true,
                    lakecolor: 'rgb(255,255,255)'
                },
                height: container.offsetHeight,
                width: container.offsetWidth,
                margin: { t: 30, l: 0, r: 0, b: 0 }
            };

            Plotly.newPlot(container, data, layout, {responsive: true});
        }

        function createViolinChart(container) {
            const regions = ['Northeast', 'Southeast', 'Midwest', 'Southwest', 'West'];
            const costs = {
                'Northeast': generateCostDistribution(18000, 22000, 500),
                'Southeast': generateCostDistribution(12000, 16000, 500),
                'Midwest': generateCostDistribution(14000, 18000, 500),
                'Southwest': generateCostDistribution(13000, 17000, 500),
                'West': generateCostDistribution(16000, 20000, 500)
            };

            const traces = regions.map(region => ({
                type: 'violin',
                x: Array(500).fill(region),
                y: costs[region],
                name: region,
                box: { visible: true },
                meanline: { visible: true },
                points: false
            }));

            const layout = {
                title: 'Regional Distribution of Childcare Costs',
                yaxis: { title: 'Annual Cost ($)' },
                height: container.offsetHeight,
                width: container.offsetWidth,
                margin: { t: 30, l: 60, r: 40, b: 60 }
            };

            Plotly.newPlot(container, traces, layout, {responsive: true});
        }

        function createTimeSeries(container) {
            const years = Array.from({length: 11}, (_, i) => 2008 + i);
            const regions = ['Northeast', 'Southeast', 'Midwest', 'Southwest', 'West'];
            const traces = regions.map(region => ({
                x: years,
                y: years.map(year => 
                    (15000 + (year - 2008) * 800) * (1 + (region === 'Northeast' ? 0.2 : 
                                                          region === 'West' ? 0.15 : 
                                                          region === 'Midwest' ? 0.1 : 
                                                          region === 'Southwest' ? 0.05 : 0))
                ),
                name: region,
                type: 'scatter',
                mode: 'lines+markers'
            }));

            const layout = {
                title: 'Childcare Cost Trends by Region (2008-2018)',
                xaxis: { title: 'Year' },
                yaxis: { title: 'Annual Cost ($)' },
                height: container.offsetHeight,
                width: container.offsetWidth,
                margin: { t: 30, l: 60, r: 40, b: 60 }
            };

            Plotly.newPlot(container, traces, layout, {responsive: true});
        }

        function createSpiralPlot(container) {
            const states = [
                {state: 'Massachusetts', cost: 20415},
                {state: 'Washington', cost: 19362},
                {state: 'California', cost: 18657},
                {state: 'New York', cost: 18425},
                {state: 'Connecticut', cost: 17895},
                {state: 'New Jersey', cost: 17682},
                {state: 'Colorado', cost: 17452},
                {state: 'Illinois', cost: 16842},
                {state: 'Minnesota', cost: 16087},
                {state: 'Oregon', cost: 15847}
            ];

            const points = states.map((state, i) => {
                const angle = i * 0.6;
                const radius = i * 20;
                return {
                    x: radius * Math.cos(angle),
                    y: radius * Math.sin(angle),
                    state: state.state,
                    cost: state.cost
                };
            });

            const trace = {
                x: points.map(p => p.x),
                y: points.map(p => p.y),
                mode: 'markers+text',
                type: 'scatter',
                marker: {
                    size: points.map(p => p.cost/800),
                    color: points.map(p => p.cost),
                    colorscale: 'Viridis',
                    showscale: true
                },
                text: points.map(p => `${p.state}<br>$${p.cost.toLocaleString()}`),
                textposition: 'top center'
            };

            const layout = {
                title: 'Childcare Costs by State (Spiral View)',
                showlegend: false,
                height: container.offsetHeight,
                width: container.offsetWidth,
                margin: { t: 30, l: 40, r: 40, b: 40 },
                xaxis: {
                    showgrid: false,
                    zeroline: false,
                    showticklabels: false
                },
                yaxis: {
                    showgrid: false,
                    zeroline: false,
                    showticklabels: false
                }
            };

            Plotly.newPlot(container, [trace], layout, {responsive: true});
        }

        function create3DAnalysis(container) {
            const states = ['MA', 'WA', 'CA', 'NY', 'CT', 'NJ', 'CO', 'IL', 'MN', 'OR'];
            const costs = [20415, 19362, 18657, 18425, 17895, 17682, 17452, 16842, 16087, 15847];
            const incomes = [85843, 82182, 80440, 72108, 78833, 85245, 77127, 69187, 74593, 67058];
            const participation = [71.2, 69.8, 68.5, 67.9, 70.1, 69.4, 68.7, 66.5, 70.3, 67.8];

            const trace = {
                type: 'scatter3d',
                mode: 'markers',
                x: costs,
                y: incomes,
                z: participation,
                text: states,
                marker: {
                    size: 8,
                    color: costs,
                    colorscale: 'Viridis'
                }
            };

            const layout = {
                title: 'Multi-dimensional Analysis: Cost, Income, and Workforce Participation',
                scene: {
                    xaxis: {title: 'Annual Cost ($)'},
                    yaxis: {title: 'Median Income ($)'},
                    zaxis: {title: 'Workforce Participation (%)'}
                },
                height: container.offsetHeight,
                width: container.offsetWidth,
                margin: { t: 30, l: 0, r: 0, b: 0 }
            };

            Plotly.newPlot(container, [trace], layout, {responsive: true});
        }

        function generateCostDistribution(min, max, count) {
            return Array.from({length: count}, () => 
                min + (max - min) * Math.random()
            );
        }
    </script>
</body>
</html> 