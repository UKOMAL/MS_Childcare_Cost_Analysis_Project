console.log('Loading new-dashboard.js...'); function loadVisualization(type) { const container = document.getElementById('mainVisualization'); container.innerHTML = '<div class="loading-spinner">Loading visualization...</div>'; try { const imagePath = getImagePath(type); const img = document.createElement('img'); img.src = imagePath; img.alt = type + ' visualization'; img.style.maxWidth = '100%'; img.style.height = 'auto'; container.innerHTML = ''; container.appendChild(img); } catch (error) { console.error('Error loading visualization:', error); container.innerHTML = '<div class="error">Error loading visualization. Please try again.</div>'; } } function getImagePath(type) { const imageMap = { 'timeSeriesAnalysis': '../output/images/time_series.png', 'urbanRuralComparison': '../output/images/urban_rural_comparison.png', 'costDistribution': '../output/images/cost_distribution.png', 'stateCosts': '../output/images/state_costs.png', 'costMap': '../output/images/childcare_costs_map.png', 'laborForceMap': '../output/images/female_labor_force.png', 'correlation': '../output/images/correlation.png', 'spiralPlot': '../output/images/spiral_plot.png' }; return imageMap[type] || imageMap['timeSeriesAnalysis']; } function updateVisualization() { const visualType = document.getElementById('visualizationType').value; loadVisualization(visualType); } function updateYearFilterVisibility() { const visualType = document.getElementById('visualizationType').value; const yearFilter = document.getElementById('yearFilter'); const timeBasedVisualizations = ['costMap', 'timeSeriesAnalysis', 'laborForceMap']; if (timeBasedVisualizations.includes(visualType)) { yearFilter.classList.add('visible'); } else { yearFilter.classList.remove('visible'); } } document.addEventListener('DOMContentLoaded', function() { updateVisualization(); updateYearFilterVisibility(); });
